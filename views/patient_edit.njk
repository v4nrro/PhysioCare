{% extends "base.njk" %}

{% block pageTitle %}Patient | Edit{% endblock %}

{% block content %}

    <h1>Edit Patient</h1>

    {% if (patient) %}

        {% if errores.general %}
            <p class="alert alert-danger">{{ errores.general }}</p>
        {% endif %}

        <form action="/patients/{{ patient.id }}" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label for="name">Name:</label>
                {% if errores.name %}
                    <p class="text-danger">{{ errores.name }}</p>
                {% endif %}
                <input type="text" class="form-control" name="name" 
                    placeholder="Name..." value="{{patient.name}}">
            </div>

            <div class="form-group">
                <label for="surname">Surname:</label>            
                <input type="text" class="form-control" name="surname"
                    placeholder="Surname..." value="{{patient.surname}}">
            </div>

            <div class="form-group">
                <label for="birthDate">Birth date:</label>
                {% if errores.birthDate %}
                    <p class="text-danger">{{ errores.birthDate }}</p>
                {% endif %}
                <input type="date" class="form-control" name="birthDate"
                    placeholder="Birth date..." value="{{patient.birthDate}}">
            </div>

            <div class="form-group">
                <label for="address">Address:</label>
                <input type="text" class="form-control" name="address"
                    placeholder="Address..." value="{{patient.address}}"/>
            </div>

            <div class="form-group">
                <label for="insuranceNumber">Insurance number:</label>
                {% if errores.insuranceNumber %}
                    <p class="text-danger">{{ errores.insuranceNumber }}</p>
                {% endif %}
                <input type="text" class="form-control" name="insuranceNumber" 
                    placeholder="Insurance number..." value="{{patient.insuranceNumber}}">
            </div>

            <div class="form-group">
                <label for="image">Photo:</label>
                <input type="file" class="form-control" name="image"
                    placeholder="photo..." />
            </div>

            <button type="submit" class="btn btn-primary mt-4 mb-4">Edit</button>
        </form>
    {% else %}
        <div class="alert alert-danger">Patient not specified</div>
    {% endif %}

{% endblock %}
